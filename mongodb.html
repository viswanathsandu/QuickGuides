<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MongoDB: Like Managing Tollywood Blockbusters and Festival Collections</title>
    
    <!-- Mermaid.js for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    
    <!-- Marked.js for markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <style>
        :root {
            --primary-color: #8B0000;
            --secondary-color: #FF6B35;
            --accent-color: #FFD700;
            --background-color: #f8f9fa;
            --text-color: #2d3748;
            --border-color: #e2e8f0;
            --code-background: #1a202c;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--background-color);
            margin: 0;
            padding: 0;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255, 215, 0, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(139, 0, 0, 0.05) 0%, transparent 50%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, #8B0000, #FF6B35);
            color: white;
            padding: 3rem 2rem;
            border-radius: 15px;
            margin-bottom: 3rem;
            box-shadow: var(--shadow);
        }

        .header h1 {
            font-size: 2.5rem;
            margin: 0 0 1rem 0;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            margin: 0;
            opacity: 0.95;
        }

        .content {
            background: white;
            border-radius: 15px;
            padding: 3rem;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .loading {
            text-align: center;
            padding: 4rem;
            color: var(--secondary-color);
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Typography */
        h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            font-weight: 700;
            margin: 2rem 0 1.5rem 0;
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        h2 {
            color: var(--secondary-color);
            font-size: 2rem;
            font-weight: 600;
            margin: 2.5rem 0 1.5rem 0;
            position: relative;
        }

        h2::before {
            content: '🎬';
            margin-right: 0.5rem;
        }

        h3 {
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: 600;
            margin: 2rem 0 1rem 0;
        }

        h4 {
            color: var(--secondary-color);
            font-size: 1.25rem;
            font-weight: 600;
            margin: 1.5rem 0 1rem 0;
        }

        /* Table of Contents */
        .table-of-contents {
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
            padding: 2rem;
            border-radius: 10px;
            margin: 2rem 0;
            border-left: 5px solid var(--accent-color);
        }

        .table-of-contents h2 {
            color: var(--primary-color);
            margin-top: 0;
        }

        .table-of-contents ol {
            counter-reset: item;
            padding-left: 0;
        }

        .table-of-contents li {
            display: block;
            margin: 0.8rem 0;
            padding-left: 2rem;
            position: relative;
            counter-increment: item;
        }

        .table-of-contents li::before {
            content: counter(item);
            background: var(--accent-color);
            color: var(--primary-color);
            font-weight: bold;
            border-radius: 50%;
            width: 1.5rem;
            height: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            left: 0;
            top: 0.1rem;
            font-size: 0.8rem;
        }

        .table-of-contents a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .table-of-contents a:hover {
            color: var(--primary-color);
            text-decoration: underline;
        }

        /* Code styling */
        code {
            background-color: #f1f5f9;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.9em;
            color: var(--primary-color);
            border: 1px solid var(--border-color);
        }

        pre {
            background-color: var(--code-background);
            color: #f7fafc;
            padding: 1.5rem;
            border-radius: 10px;
            overflow-x: auto;
            margin: 1.5rem 0;
            box-shadow: var(--shadow);
            border: 1px solid #2d3748;
        }

        pre code {
            background: none;
            padding: 0;
            border: none;
            color: inherit;
        }

        /* Blockquotes */
        blockquote {
            border-left: 4px solid var(--accent-color);
            background: #fff8e1;
            margin: 1.5rem 0;
            padding: 1rem 1.5rem;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            color: var(--primary-color);
        }

        /* Links */
        a {
            color: var(--secondary-color);
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }

        a:hover {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }

        /* Lists */
        ul, ol {
            margin: 1rem 0;
            padding-left: 2rem;
        }

        li {
            margin: 0.5rem 0;
            line-height: 1.6;
        }

        /* Mermaid diagrams */
        .mermaid {
            text-align: center;
            margin: 2rem 0;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        /* Section styling */
        .section {
            margin: 3rem 0;
            padding: 2rem 0;
        }

        .section:not(:last-child) {
            border-bottom: 1px solid var(--border-color);
        }

        /* Emoji and movie icons */
        .emoji {
            font-size: 1.2em;
            margin-right: 0.5rem;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header {
                padding: 2rem 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .content {
                padding: 1.5rem;
            }

            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            .table-of-contents {
                padding: 1.5rem;
            }
        }

        /* Scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 3rem;
            padding: 2rem;
            color: var(--secondary-color);
            border-top: 1px solid var(--border-color);
            background: linear-gradient(135deg, #fff8e1, #ffecb3);
            border-radius: 10px;
        }

        /* Error styling */
        .error {
            background: #fed7d7;
            color: #c53030;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #feb2b2;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎬 MongoDB: Like Managing Tollywood Blockbusters and Festival Collections</h1>
            <p>An exciting guide to help you understand MongoDB using our favorite Telugu movies</p>
        </div>

        <div class="content">
            <div class="loading">
                <div class="spinner"></div>
                <p>Loading your blockbuster MongoDB guide...</p>
            </div>
        </div>

        <div class="footer">
            <p>🎭 <em>"Moving from SQL to MongoDB is like Telugu cinema's evolution from single screens to global OTT platforms. Both serve audiences brilliantly, but in different ways. Your database expertise makes you perfect to learn MongoDB - you already understand data organization. Now you just need to learn when to use traditional methods and when to embrace flexible, modern approaches for today's entertainment landscape!"</em></p>
            <p>Created with ❤️ for MongoDB enthusiasts | <a href="https://github.com" target="_blank">View on GitHub</a></p>
        </div>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: false,
            theme: 'default',
            themeVariables: {
                primaryColor: '#8B0000',
                primaryTextColor: '#2d3748',
                primaryBorderColor: '#FF6B35',
                lineColor: '#FFD700',
                secondaryColor: '#fff8e1',
                tertiaryColor: '#ffecb3',
                background: '#ffffff',
                mainBkg: '#ffffff',
                secondaryBkg: '#fff8e1',
                tertiaryBkg: '#ffecb3'
            },
            securityLevel: 'loose'
        });

        // Configure marked with custom renderer
        const renderer = new marked.Renderer();
        
        // Custom renderer for code blocks to handle mermaid
        renderer.code = function(code, language) {
            if (language === 'mermaid') {
                return `<div class="mermaid">${code}</div>`;
            } else {
                // Default code block rendering with syntax highlighting
                if (language && Prism.languages[language]) {
                    const highlighted = Prism.highlight(code, Prism.languages[language], language);
                    return `<pre><code class="language-${language}">${highlighted}</code></pre>`;
                } else {
                    return `<pre><code>${code}</code></pre>`;
                }
            }
        };

        // Custom renderer for headings to generate proper IDs
        renderer.heading = function(text, level) {
            const escapedText = text.toLowerCase()
                .replace(/[^\w\s-]/g, '') // Remove special characters
                .replace(/\s+/g, '-')     // Replace spaces with hyphens
                .trim();
            return `<h${level} id="${escapedText}">${text}</h${level}>`;
        };

        marked.setOptions({
            renderer: renderer,
            breaks: true,
            gfm: true,
            headerIds: true,
            headerPrefix: ''
        });

        // Function to load and display markdown
        async function loadMarkdown() {
            try {
                console.log('Loading MongoDB blockbuster guide...');
                
                const response = await fetch('mongodb-nature-guide.md');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const markdown = await response.text();
                console.log('Markdown loaded, parsing...');
                
                const html = marked.parse(markdown);
                console.log('Markdown parsed, rendering...');
                
                document.querySelector('.content').innerHTML = html;
                
                // Render mermaid diagrams
                console.log('Rendering Mermaid diagrams...');
                await mermaid.run();
                console.log('Mermaid diagrams rendered');
                
                // Add copy buttons to code blocks
                addCopyButtons();

                console.log('MongoDB guide loaded successfully! 🎬');
                
            } catch (error) {
                console.error('Error loading guide:', error);
                document.querySelector('.content').innerHTML = `
                    <div class="error">
                        <h2>🚨 Error Loading Guide</h2>
                        <p>Sorry, there was an error loading the MongoDB guide: ${error.message}</p>
                        <p>Please refresh the page or check the console for more details.</p>
                    </div>
                `;
            }
        }

        // Function to add copy buttons to code blocks
        function addCopyButtons() {
            const colors = {
                primary: '#8B0000',
                accent: '#FFD700'
            };
            
            const codeBlocks = document.querySelectorAll('pre code');
            codeBlocks.forEach((codeBlock, index) => {
                const pre = codeBlock.parentElement;
                const button = document.createElement('button');
                button.textContent = 'Copy';
                button.style.cssText = `
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: ${colors.accent};
                    color: ${colors.primary};
                    border: none;
                    padding: 5px 10px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 12px;
                    font-weight: bold;
                `;
                
                pre.style.position = 'relative';
                pre.appendChild(button);
                
                button.addEventListener('click', () => {
                    navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                        button.textContent = 'Copied!';
                        setTimeout(() => {
                            button.textContent = 'Copy';
                        }, 2000);
                    });
                });
            });
        }

        // Load the guide when page loads
        document.addEventListener('DOMContentLoaded', loadMarkdown);
    </script>
</body>
</html> 
